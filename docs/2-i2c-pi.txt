Enable multiple i2c busses
Thu Apr 16, 2020 7:35 pm

After reading a lot this is how I got it to work
Rpi 4 2 Gb rev 1.2 latest raspbian (lite).
Code: Select all

sudo nano /boot/config.txt
Uncomment dtparam=i2c_arm=on
and add "dtoverlay=i2c-gpio,bus=2,i2c_gpio_sda=17,i2c_gpio_scl=27"
Code: Select all

# Uncomment some or all of these to enable the optional hardware interfaces
dtparam=i2c_arm=on
dtoverlay=i2c-gpio,bus=2,i2c_gpio_sda=17,i2c_gpio_scl=27
type Ctrl + X
answer y (yes) to save the file
enter
Code: Select all

sudo reboot -h now
connect your devices bus 1 to gpio 23 sda 24 scl --- bus 2 to gpio 17 sda 27 scl
power on,
Code: Select all

i2cdetect -y 1
shows the devices on bus 1
Code: Select all

i2cdetect -y 2
shows the devices on bus 2